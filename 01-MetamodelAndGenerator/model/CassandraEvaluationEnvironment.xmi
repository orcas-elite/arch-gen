<?xml version="1.0" encoding="UTF-8"?>
<anotherMicroserviceMetamodel:MetaModelStructure
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:anotherMicroserviceMetamodel="http://www.example.org/anotherMicroserviceMetamodel"
    xsi:schemaLocation="http://www.example.org/anotherMicroserviceMetamodel anotherMicroserviceMetamodel.ecore">
  <infrastructure>
    <hosts hostname="phyHost">
      <virtualHosts
          microservices="//@configurations.0/@microservices.0"
          hostname="vhostelb"/>
      <virtualHosts
          microservices="//@configurations.0/@microservices.1"
          hostname="vhostproxy"/>
      <virtualHosts
          microservices="//@configurations.0/@microservices.2"
          hostname="vhostapp"/>
      <virtualHosts
          microservices="//@configurations.0/@microservices.3"
          hostname="vhostrestdata"/>
      <virtualHosts
          microservices="//@configurations.0/@microservices.4"
          hostname="vhostcassandra"/>
    </hosts>
  </infrastructure>
  <configurations>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.0"
        microserviceType="//@microserviceRepository/@microserviceTypes.0"
        version="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        uuid="1001">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.0/@restOperations.0"
          ipAddress="169.254.42.137"
          port="8080"
          url="www.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.1"
        microserviceType="//@microserviceRepository/@microserviceTypes.1"
        version="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        uuid="1002">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.1/@restOperations.0"
          ipAddress="169.254.42.138"
          port="8080"
          url="proxy.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.2"
        microserviceType="//@microserviceRepository/@microserviceTypes.2"
        version="//@microserviceRepository/@microserviceTypes.2/@versions.0"
        uuid="1003">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.2/@restOperations.0 //@microserviceRepository/@microserviceTypes.2/@restOperations.1"
          ipAddress="169.254.42.139"
          port="8080"
          url="app.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.3"
        microserviceType="//@microserviceRepository/@microserviceTypes.3"
        version="//@microserviceRepository/@microserviceTypes.3/@versions.0"
        uuid="1004">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.3/@restOperations.0 //@microserviceRepository/@microserviceTypes.3/@restOperations.1"
          ipAddress="169.254.42.140"
          port="8080"
          url="rest.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.4"
        microserviceType="//@microserviceRepository/@microserviceTypes.4"
        version="//@microserviceRepository/@microserviceTypes.4/@versions.0"
        uuid="1005">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.4/@restOperations.0 //@microserviceRepository/@microserviceTypes.4/@restOperations.1"
          ipAddress="169.254.42.141"
          port="8080"
          url="cassandra.example.com"
          protocol="HTTP"/>
    </microservices>
  </configurations>
  <dependencies>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.1"
        calledOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.0/@restOperations.0"
        callingVersion="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.0"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.2"
        calledOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.0"
        callingVersion="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.1"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.2"
        calledOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.1"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.3"
        calledOperation="//@microserviceRepository/@microserviceTypes.3/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.0"
        callingVersion="//@microserviceRepository/@microserviceTypes.2/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.2"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.3"
        calledOperation="//@microserviceRepository/@microserviceTypes.3/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.2/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.2"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.4"
        calledOperation="//@microserviceRepository/@microserviceTypes.4/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.3/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.3/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.3"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.4"
        calledOperation="//@microserviceRepository/@microserviceTypes.4/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.3/@restOperations.0"
        callingVersion="//@microserviceRepository/@microserviceTypes.3/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.3"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.1"
        calledOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.0/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.0"/>
  </dependencies>
  <timeSeries/>
  <microserviceRepository>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.0"
        identifier="elb"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.0 //@dependencies/@operationToOperationCallingDependencies.7">
      <restOperations
          name="getIndexLogin"
          subPath="/login"/>
      <restOperations
          name="getIndexOrder"
          subPath="/order"/>
      <versions
          versionString="1.0"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.1"
        identifier="proxy"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.1 //@dependencies/@operationToOperationCallingDependencies.2">
      <restOperations
          name="getInstanceLogin"
          subPath="/login"/>
      <restOperations
          name="getInstanceOrder"
          subPath="/order"/>
      <versions
          versionString="1.1"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.2"
        identifier="app"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.3 //@dependencies/@operationToOperationCallingDependencies.4">
      <restOperations
          name="authenticate"
          subPath="/auth"/>
      <restOperations
          name="processRequest"
          subPath="/process"/>
      <versions
          versionString="1.2"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.3"
        identifier="restdata"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.5 //@dependencies/@operationToOperationCallingDependencies.6">
      <restOperations
          name="write"
          subPath="/write"/>
      <restOperations
          name="read"
          subPath="/read"/>
      <versions
          versionString="1.3"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.4"
        identifier="cassandra">
      <restOperations
          name="storeData"
          subPath="/store"/>
      <restOperations
          name="readData"
          subPath="/read"/>
      <versions
          versionString="1.4"/>
    </microserviceTypes>
  </microserviceRepository>
</anotherMicroserviceMetamodel:MetaModelStructure>
