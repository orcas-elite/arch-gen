<?xml version="1.0" encoding="UTF-8"?>
<anotherMicroserviceMetamodel:MetaModelStructure
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:anotherMicroserviceMetamodel="http://www.example.org/anotherMicroserviceMetamodel"
    xsi:schemaLocation="http://www.example.org/anotherMicroserviceMetamodel anotherMicroserviceMetamodel.ecore">
  <infrastructure>
    <hosts hostname="srvportal">
      <virtualHosts
          microservices="//@configurations.0/@microservices.0"
          hostname="vhportal"/>
    </hosts>
    <hosts hostname="srvlogic">
      <virtualHosts
          microservices="//@configurations.0/@microservices.1"
          hostname="vhlogic"/>
    </hosts>
    <hosts hostname="srvdatabase">
      <virtualHosts
          microservices="//@configurations.0/@microservices.2"
          hostname="vhdatabase"/>
    </hosts>
  </infrastructure>
  <configurations>
    <microservices
        environment="//@infrastructure/@hosts.0/@virtualHosts.0"
        microserviceType="//@microserviceRepository/@microserviceTypes.0"
        version="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        uuid="1001">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.0/@restOperations.0"
          ipAddress="169.254.42.137"
          port="8080"
          url="www.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.1/@virtualHosts.0"
        microserviceType="//@microserviceRepository/@microserviceTypes.1"
        version="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        uuid="1002">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.1/@restOperations.0 //@microserviceRepository/@microserviceTypes.1/@restOperations.1"
          ipAddress="169.254.42.138"
          port="8080"
          url="logic.example.com"
          protocol="HTTP"/>
    </microservices>
    <microservices
        environment="//@infrastructure/@hosts.2/@virtualHosts.0"
        microserviceType="//@microserviceRepository/@microserviceTypes.2"
        version="//@microserviceRepository/@microserviceTypes.2/@versions.0"
        uuid="1003">
      <endpoints
          restOperations="//@microserviceRepository/@microserviceTypes.2/@restOperations.0 //@microserviceRepository/@microserviceTypes.2/@restOperations.1"
          ipAddress="169.254.42.139"
          port="8080"
          url="db.example.com"
          protocol="HTTP"/>
    </microservices>
  </configurations>
  <dependencies>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.1"
        calledOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.0/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.0"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.1"
        calledOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.0/@restOperations.2"
        callingVersion="//@microserviceRepository/@microserviceTypes.0/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.0"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.2"
        calledOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.0"
        callingOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.0"
        callingVersion="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.1"/>
    <operationToOperationCallingDependencies
        calledMicroservice="//@microserviceRepository/@microserviceTypes.2"
        calledOperation="//@microserviceRepository/@microserviceTypes.2/@restOperations.1"
        callingOperation="//@microserviceRepository/@microserviceTypes.1/@restOperations.1"
        callingVersion="//@microserviceRepository/@microserviceTypes.1/@versions.0"
        callingMicroservice="//@microserviceRepository/@microserviceTypes.1"/>
  </dependencies>
  <timeSeries/>
  <microserviceRepository>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.0"
        identifier="portal"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.0 //@dependencies/@operationToOperationCallingDependencies.1">
      <restOperations
          name="getIndex"
          subPath="/"/>
      <restOperations
          name="getLogin"
          subPath="/login"/>
      <restOperations
          name="getOrder"
          subPath="/order"/>
      <versions
          versionString="1.0.0"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.1"
        identifier="logic"
        dependencies="//@dependencies/@operationToOperationCallingDependencies.2 //@dependencies/@operationToOperationCallingDependencies.3">
      <restOperations
          name="doLogin"
          subPath="/login"/>
      <restOperations
          name="doOrder"
          subPath="/order"/>
      <versions
          versionString="1.2.5"/>
    </microserviceTypes>
    <microserviceTypes
        microservices="//@configurations.0/@microservices.2"
        identifier="database">
      <restOperations
          name="validateLogin"
          subPath="/login"/>
      <restOperations
          name="storeOrder"
          subPath="/order"/>
      <versions
          versionString="2.1.7"/>
    </microserviceTypes>
  </microserviceRepository>
</anotherMicroserviceMetamodel:MetaModelStructure>
